


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation franÃ§aise pour OroCommerce">
      
      
      
        <meta name="author" content="Kiboko">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.1">
    
    
      
        <title>Behat - orocommerce-cheatsheet</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a676eddb.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#test-behat" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="orocommerce-cheatsheet" class="md-header-nav__button md-logo" aria-label="orocommerce-cheatsheet">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            orocommerce-cheatsheet
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Behat
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/kiboko-labs/orocommerce-cheatsheet/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Github
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="orocommerce-cheatsheet" class="md-nav__button md-logo" aria-label="orocommerce-cheatsheet">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    orocommerce-cheatsheet
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/kiboko-labs/orocommerce-cheatsheet/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Github
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Useful commands
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Useful commands" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Useful commands
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../command/oro1/" title="Oro 1.x" class="md-nav__link">
      Oro 1.x
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../command/oro3/" title="Oro 3.x" class="md-nav__link">
      Oro 3.x
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Backend tips
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Backend tips" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Backend tips
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../backend/remove-price-filter/" title="Remove Price filter and sorter" class="md-nav__link">
      Remove Price filter and sorter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      Comment crÃ©er un EventListener pour modifier une DataGrid
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Comment crÃ©er un EventListener pour modifier une DataGrid" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Comment crÃ©er un EventListener pour modifier une DataGrid
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../backend/event-listener-datagrid-orm-result/" title="Orm Result" class="md-nav__link">
      Orm Result
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../backend/event-listener-datagrid-structure/" title="Structure" class="md-nav__link">
      Structure
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../backend/dynamic-action-datagrid/" title="GÃ©rer dynamiquement des actions dans une datagrid" class="md-nav__link">
      GÃ©rer dynamiquement des actions dans une datagrid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../backend/pass-param-to-datagrid/" title="Faire passer un paramÃ¨tre Ã  une datagrid" class="md-nav__link">
      Faire passer un paramÃ¨tre Ã  une datagrid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../backend/delete-entity/" title="Comment supprimer proprement une entitÃ©" class="md-nav__link">
      Comment supprimer proprement une entitÃ©
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../backend/handler-provider-update/" title="Faire des handlers / providers (update entity)" class="md-nav__link">
      Faire des handlers / providers (update entity)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../backend/oro-config-select-type/" title="Champ select en config" class="md-nav__link">
      Champ select en config
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Frontend tips
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Frontend tips" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Frontend tips
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend/BlockTypes/" title="BlockTypes examples" class="md-nav__link">
      BlockTypes examples
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend/ElementList/" title="List of Ui element present in OroUIBundle::macros.html.twig" class="md-nav__link">
      List of Ui element present in OroUIBundle::macros.html.twig
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend/findblockname/" title="Find Twig Template block names" class="md-nav__link">
      Find Twig Template block names
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend/mass-actions/" title="Ajouter une Mass-Action sur la grille des produits" class="md-nav__link">
      Ajouter une Mass-Action sur la grille des produits
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend/form/" title="Create a frontend form for an entity" class="md-nav__link">
      Create a frontend form for an entity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../frontend/consent-rgpd/" title="RGPD" class="md-nav__link">
      RGPD
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Environment tips
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Environment tips" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Environment tips
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../environment/installer-xdebug-php71/" title="Installer Xdebug pour php 7.1 sur MacOS" class="md-nav__link">
      Installer Xdebug pour php 7.1 sur MacOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../environment/installer-rabbitmq-brew/" title="Installer RabbitMQ avec Brew sur MacOS" class="md-nav__link">
      Installer RabbitMQ avec Brew sur MacOS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../environment/avoir-xdebug-a-la-demande/" title="Activer XDebug Ã  la demande" class="md-nav__link">
      Activer XDebug Ã  la demande
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../environment/supervisor/" title="Utilisation de Supervisor" class="md-nav__link">
      Utilisation de Supervisor
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../environment/composer-tips/" title="Utilisation de composer" class="md-nav__link">
      Utilisation de composer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../postgresql/insert-medias/" title="Insert product medias in the database" class="md-nav__link">
      Insert product medias in the database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../postgresql/sql-tips/" title="Pour identifier les tables lourdes" class="md-nav__link">
      Pour identifier les tables lourdes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Migration tips
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Migration tips" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Migration tips
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../migrations/introduction/" title="Introduction schema manipulation" class="md-nav__link">
      Introduction schema manipulation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../migrations/enum/" title="Managing enums" class="md-nav__link">
      Managing enums
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../migrations/businessUnit/" title="Extending an entity (Business Unit example)" class="md-nav__link">
      Extending an entity (Business Unit example)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../migrations/view/" title="Managing the fields order on the form view" class="md-nav__link">
      Managing the fields order on the form view
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../migrations/configuration/" title="Configuring the platform via migrations" class="md-nav__link">
      Configuring the platform via migrations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../migrations/delete-completely-an-enum/" title="Delete completely an enum" class="md-nav__link">
      Delete completely an enum
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Docker tips
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Docker tips" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Docker tips
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker/dump-sql-docker/" title="Maninipuler des dumps.sql avec Docker" class="md-nav__link">
      Maninipuler des dumps.sql avec Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker/use-cache/" title="Utiliser le cache Docker" class="md-nav__link">
      Utiliser le cache Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../docker/clean-vm/" title="Nettoyer sa VM" class="md-nav__link">
      Nettoyer sa VM
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Test tips
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Test tips" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Test tips
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../intro/" title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Behat
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Behat" class="md-nav__link md-nav__link--active">
      Behat
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    Concepts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conventions" class="md-nav__link">
    Conventions
  </a>
  
    <nav class="md-nav" aria-label="Conventions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation-des-dependances-de-developpement" class="md-nav__link">
    Installation des dÃ©pendances de dÃ©veloppement :
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etat-de-lapplication-initiale" class="md-nav__link">
    Etat de l'application initiale
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-test-automation-tools" class="md-nav__link">
    Install Test Automation Tools
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#note" class="md-nav__link">
    Note :
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-des-tests" class="md-nav__link">
    ExÃ©cution des tests
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    Architecture
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container" class="md-nav__link">
    Container
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autoload-suites" class="md-nav__link">
    Autoload Suites
  </a>
  
    <nav class="md-nav" aria-label="Autoload Suites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#feature-isolation" class="md-nav__link">
    Feature Isolation
  </a>
  
    <nav class="md-nav" aria-label="Feature Isolation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#desactiver-lisolation-des-fonctionnalites" class="md-nav__link">
    DÃ©sactiver l'isolation des fonctionnalitÃ©s
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objet-de-page-page-object" class="md-nav__link">
    Objet de page (Page Object)
  </a>
  
    <nav class="md-nav" aria-label="Objet de page (Page Object)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elements" class="md-nav__link">
    Elements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mappage-des-champs-de-formulaire" class="md-nav__link">
    Mappage des champs de formulaire
  </a>
  
    <nav class="md-nav" aria-label="Mappage des champs de formulaire">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mappages-de-formulaires-integres" class="md-nav__link">
    Mappages de formulaires intÃ©grÃ©s :
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#element-de-page" class="md-nav__link">
    ELement de page
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixtures" class="md-nav__link">
    Fixtures :
  </a>
  
    <nav class="md-nav" aria-label="Fixtures :">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#feature-fixtures" class="md-nav__link">
    Feature Fixtures :
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixtures-basiques" class="md-nav__link">
    Fixtures basiques
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixtures-alice" class="md-nav__link">
    Fixtures Alice
  </a>
  
    <nav class="md-nav" aria-label="Fixtures Alice">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note_1" class="md-nav__link">
    NOTE :
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references-dentites" class="md-nav__link">
    RÃ©fÃ©rences d'entitÃ©s
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#health-checkers" class="md-nav__link">
    Health Checkers
  </a>
  
    <nav class="md-nav" aria-label="Health Checkers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixtureschecker" class="md-nav__link">
    FixturesChecker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ecrire-une-feature" class="md-nav__link">
    Ecrire une feature
  </a>
  
    <nav class="md-nav" aria-label="Ecrire une feature">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note_2" class="md-nav__link">
    Note :
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#note_3" class="md-nav__link">
    Note :
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#depannage" class="md-nav__link">
    DÃ©pannage
  </a>
  
    <nav class="md-nav" aria-label="DÃ©pannage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#augmentez-les-performances-des-applications-ubuntu" class="md-nav__link">
    Augmentez les performances des applications (Ubuntu)
  </a>
  
    <nav class="md-nav" aria-label="Augmentez les performances des applications (Ubuntu)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#facultatif-creer-un-script-de-demarrage" class="md-nav__link">
    (facultatif) CrÃ©er un script de dÃ©marrage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../javascript/" title="Javascript" class="md-nav__link">
      Javascript
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../functional/" title="Functionnal" class="md-nav__link">
      Functionnal
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    Concepts
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conventions" class="md-nav__link">
    Conventions
  </a>
  
    <nav class="md-nav" aria-label="Conventions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    Example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    Introduction
  </a>
  
    <nav class="md-nav" aria-label="Introduction">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav" aria-label="Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installation-des-dependances-de-developpement" class="md-nav__link">
    Installation des dÃ©pendances de dÃ©veloppement :
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etat-de-lapplication-initiale" class="md-nav__link">
    Etat de l'application initiale
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-test-automation-tools" class="md-nav__link">
    Install Test Automation Tools
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#note" class="md-nav__link">
    Note :
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#execution-des-tests" class="md-nav__link">
    ExÃ©cution des tests
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    Architecture
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#container" class="md-nav__link">
    Container
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autoload-suites" class="md-nav__link">
    Autoload Suites
  </a>
  
    <nav class="md-nav" aria-label="Autoload Suites">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#feature-isolation" class="md-nav__link">
    Feature Isolation
  </a>
  
    <nav class="md-nav" aria-label="Feature Isolation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#desactiver-lisolation-des-fonctionnalites" class="md-nav__link">
    DÃ©sactiver l'isolation des fonctionnalitÃ©s
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objet-de-page-page-object" class="md-nav__link">
    Objet de page (Page Object)
  </a>
  
    <nav class="md-nav" aria-label="Objet de page (Page Object)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#elements" class="md-nav__link">
    Elements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mappage-des-champs-de-formulaire" class="md-nav__link">
    Mappage des champs de formulaire
  </a>
  
    <nav class="md-nav" aria-label="Mappage des champs de formulaire">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mappages-de-formulaires-integres" class="md-nav__link">
    Mappages de formulaires intÃ©grÃ©s :
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#element-de-page" class="md-nav__link">
    ELement de page
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixtures" class="md-nav__link">
    Fixtures :
  </a>
  
    <nav class="md-nav" aria-label="Fixtures :">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#feature-fixtures" class="md-nav__link">
    Feature Fixtures :
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixtures-basiques" class="md-nav__link">
    Fixtures basiques
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixtures-alice" class="md-nav__link">
    Fixtures Alice
  </a>
  
    <nav class="md-nav" aria-label="Fixtures Alice">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note_1" class="md-nav__link">
    NOTE :
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references-dentites" class="md-nav__link">
    RÃ©fÃ©rences d'entitÃ©s
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#health-checkers" class="md-nav__link">
    Health Checkers
  </a>
  
    <nav class="md-nav" aria-label="Health Checkers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#fixtureschecker" class="md-nav__link">
    FixturesChecker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ecrire-une-feature" class="md-nav__link">
    Ecrire une feature
  </a>
  
    <nav class="md-nav" aria-label="Ecrire une feature">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#note_2" class="md-nav__link">
    Note :
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#note_3" class="md-nav__link">
    Note :
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#depannage" class="md-nav__link">
    DÃ©pannage
  </a>
  
    <nav class="md-nav" aria-label="DÃ©pannage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#augmentez-les-performances-des-applications-ubuntu" class="md-nav__link">
    Augmentez les performances des applications (Ubuntu)
  </a>
  
    <nav class="md-nav" aria-label="Augmentez les performances des applications (Ubuntu)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#facultatif-creer-un-script-de-demarrage" class="md-nav__link">
    (facultatif) CrÃ©er un script de dÃ©marrage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/kiboko-labs/orocommerce-cheatsheet/edit/master/docs/tests/behat.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                  </a>
                
                
                  
                
                
                <h1 id="test-behat">Test Behat</h1>
<h2 id="concepts">Concepts</h2>
<p>Les informations ci-dessous rÃ©sume les concepts et les outils qui sont importants pour la comprÃ©hension et lâutilisation
du framework de test inclus dans OroBehatExtension.</p>
<p><strong>Behavior-driven development (BDD)</strong> est un processus de dÃ©veloppement logiciel issu du dÃ©veloppement axÃ© sur les tests (TDD).
Le BDD combine les techniques gÃ©nÃ©rales et les principes de TDD avec des idÃ©es de conception axÃ©e sur le domaine et
l'analyse d'objet et du design pour fournir aux Ã©quipes de dÃ©veloppement et de gestion de logiciels des outils partagÃ©s et 
un processus partagÃ© de collaboration pour le dÃ©veloppement de logiciels.</p>
<ol>
<li>
<p><a href="https://docs.behat.org/en/v3.0/">Behat</a> est un framework de dÃ©veloppement basÃ© sur le comportement pour PHP.
Cet outil permet de dÃ©crire le comportement de l'application voulue en utilisant Php et <a href="https://docs.behat.org/en/latest/user_guide/gherkin.html">Gherking</a>
Vous pouvez utiliser Behat pour dÃ©crire tout ce que vous pouvez dÃ©crire dans la logique mÃ©tier.
Outils, applications GUI, applications Web, etc. La partie la plus intÃ©ressante est les applications Web.</p>
</li>
<li>
<p><a href="http://mink.behat.org/en/latest/">Mink</a> est une extension de Behat qui vas permettre de controller un navigateur durant les tests en utilisant PHP.
Il vas utiliser des emulateurs de navigateurs , l'avantage d'utiliser Mink c'est qu'il supprime les diffÃ©rences entres les 
diffÃ©rents emulateurs de navigateur et leurs drivers.</p>
</li>
<li>
<p><a href="https://github.com/oroinc/platform/blob/master/src/Oro/Bundle/TestFrameworkBundle/Behat/Element/OroElementFactory.php">OroElementFactory</a> est une classe qui permet de manipuler des Ã©lÃ©ments sur la page.</p>
</li>
<li>
<p><a href="https://github.com/Behat/Symfony2Extension/blob/master/doc/index.rst">Symfony2Extension</a> qui ajoute une intÃ©gration pour Symfony avec Behat.</p>
</li>
<li>
<p><a href="https://github.com/oroinc/platform/blob/master/src/Oro/Bundle/TestFrameworkBundle/Behat/ServiceContainer/OroTestFrameworkExtension.php">OroTestFrameworkExtension</a> vas permettre de charger diffÃ©rents outils pour la liaison Oro/Behat</p>
</li>
<li>
<p><a href="https://github.com/minkphp/MinkSelenium2Driver">MinkSelenium2Driver</a> vas faire le lien entre Mink vers Selenium en utilisant le protocole WebDriver</p>
</li>
<li>
<p><a href="https://sites.google.com/a/chromium.org/chromedriver/">ChromeDriver</a> est un outil pour automatiser les tests dans Google Chrome</p>
</li>
</ol>
<h2 id="conventions">Conventions</h2>
<p>Cette section rÃ©sume les limitations et accords importants pour la maintenance et l'utilisation des tests partagÃ©s.</p>
<p>Utilisez le mapping de formulaire au lieu de sÃ©lecteurs dans vos scÃ©narios pour les garder clairs et comprÃ©hensibles pour les personnes du monde technique et non technique.</p>
<h3 id="example">Example</h3>
<p>Ne pas:</p>
<pre><code>I fill in &quot;oro_workflow_definition_form[label]&quot; with &quot;User Workflow Test&quot;
I fill in &quot;oro_workflow_definition_form[related_entity]&quot; with &quot;User&quot;
</code></pre>

<p>Mais plutot :</p>
<pre><code> And I fill &quot;Workflow Edit Form&quot; with:
   | Name                  | User Workflow Test |
   | Related Entity        | User               |
</code></pre>

<p>avec la description des Ã©lÃ©ments indÃ©pendament :</p>
<pre><code> Workflow Edit Form:
   selector: 'form[name=&quot;oro_workflow_definition_form&quot;]'
   class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Form
   options:
     mapping:
       Name: 'oro_workflow_definition_form[label]'
       Related Entity: 'oro_workflow_definition_form[related_entity]'
</code></pre>

<p>Utilisez des menu et des liens pour obtenir les bonnes pages au lieu de l'URL de la page directe</p>
<p>Faire :</p>
<pre><code>And I open User Index page
</code></pre>

<p>Et non pas :</p>
<pre><code>And I go to &quot;/users&quot;
</code></pre>

<p>Ãvitez la redondance des scÃ©narios (par exemple, en rÃ©pÃ©tant la mÃªme sÃ©quence d'Ã©tapes, comme la connexion, dans plusieurs scÃ©narios).</p>
<p>Couvrez la fonctionnalitÃ© avec les scÃ©narios sÃ©quentiels oÃ¹ chaque scÃ©nario suivant rÃ©utilise les rÃ©sultats (les Ã©tats et les donnÃ©es) prÃ©parÃ©s par leurs prÃ©dÃ©cesseurs. Cette mÃ©thode a Ã©tÃ© choisie en raison des avantages suivants:</p>
<ul>
<li>ExÃ©cution de scÃ©nario plus rapide grÃ¢ce Ã  la session utilisateur partagÃ©e et Ã  la prÃ©paration intelligente des donnÃ©es.
L'action de connexion dans le scÃ©nario initial ouvre la session qui est rÃ©utilisable par les scÃ©narios suivants.
Les scÃ©narios prÃ©liminaires (par exemple, crÃ©er) prÃ©parent des donnÃ©es pour les scÃ©narios suivants (par exemple, supprimer).</li>
<li>L'isolation au niveau des fonctionnalitÃ©s augmente la vitesse d'exÃ©cution, en particulier dans les environnements de test lents.</li>
<li>Actions de dÃ©veloppement de routine minimisÃ©es (par exemple, vous n'avez pas Ã  charger les fixtures pour chaque scÃ©nario; au lieu de cela, vous rÃ©utilisez les rÃ©sultats disponibles des scÃ©narios prÃ©cÃ©dents).</li>
<li>Gestion aisÃ©e des Ã©tats d'application difficiles Ã  Ã©muler uniquement avec des fixtures (par exemple, lors de l'ajout de nouveaux champs d'entitÃ© dans l'interface utilisateur).</li>
</ul>
<p>En couplant les scÃ©narios, la facilitÃ© de dÃ©bogage et de localisation des bogues est rÃ©duite. Il est difficile de dÃ©boguer les fonctionnalitÃ©s de l'interface utilisateur
et les scÃ©narios qui se produisent aprÃ¨s plusieurs scÃ©narios prÃ©liminaires. Plus la ligne est longue, plus il est difficile d'isoler le problÃ¨me.</p>
<ul>
<li><strong>Utiliser des fixtures yml sÃ©mantiques</strong></li>
</ul>
<p>Utilisez uniquement les entitÃ©s qui se trouvent dans le bundle que vous testez. Toutes les autres entitÃ©s doivent Ãªtre incluses via une importation. Voir les <a href="https://github.com/nelmio/alice">Fixtures Alice</a> pour plus d'informations.</p>
<ul>
<li><strong>Nommer les Ã©lÃ©ments dans le style camelCase sans espaces</strong></li>
</ul>
<p>Vous pouvez toujours vous y rÃ©fÃ©rer en utilisant le style camelCase avec des espaces dans les scÃ©narios behat.
Par exemple, un Ã©lÃ©ment nommÃ© OroProductForm peut Ãªtre mentionnÃ© dans l'Ã©tape du scÃ©nario comme Â«Oro Product FromÂ»:</p>
<ul>
<li><strong>Use Scenario: Feature Background instead of the Background step</strong></li>
</ul>
<h2 id="introduction">Introduction</h2>
<h3 id="configuration">Configuration</h3>
<p><strong>Configuration de l'application</strong> :</p>
<p>Utilisez la configuration par dÃ©faut de l'application installÃ©e en mode production. Si aucun serveur de messagerie n'est configurÃ© localement, dÃ©finissez le paramÃ¨tre mailer_transport dans parameters.yml sur null.</p>
<p><strong>Configuration Behat</strong></p>
<p>La configuration de base se trouve dans behat.yml.dist. Chaque application possÃ¨de son propre fichier behat.yml.dist Ã  la racine du rÃ©pertoire de l'application.
CrÃ©ez votre behat.yml (il est ignorÃ© par git automatiquement et n'est jamais validÃ© dans le rÃ©fÃ©rentiel distant), importez la configuration de base et modifiez-la pour l'adapter Ã  votre environnement:</p>
<pre><code class="yaml">imports:
   - ./behat.yml.dist

 default: &amp;default
     extensions: &amp;default_extensions
         Behat\MinkExtension:
             browser_name: chrome
             base_url: &quot;http://your-domain.local&quot;
</code></pre>

<h2 id="installation">Installation</h2>
<h3 id="installation-des-dependances-de-developpement">Installation des dÃ©pendances de dÃ©veloppement :</h3>
<p>Si vous avez installÃ© des dÃ©pendances avec le paramÃ¨tre --no-dev plus tÃ´t, supprimez le fichier composer.lock de la racine du rÃ©pertoire de l'application.</p>
<p>Installez les dÃ©pendances dev Ã  l'aide de la commande suivante</p>
<p><code>composer install</code></p>
<h3 id="etat-de-lapplication-initiale">Etat de l'application initiale</h3>
<p>Dans Oro, l'Ã©tat initial est celui lorsque l'application est installÃ© sans donnÃ©es de dÃ©monstration.
Les scÃ©narios qui testent des fonctionnalitÃ©s doivent s'appuyer sur cet Ã©tat et doivent crÃ©er toutes les donnÃ©es nÃ©cessaires Ã  des vÃ©rifications supplÃ©mentaires.
Les donnÃ©es peuvent Ãªtre crÃ©Ã©es par les Ã©tapes du scÃ©nario ou comme montages.</p>
<p>Installez l'application sans donnÃ©es de dÃ©monstration en mode production Ã  l'aide de la commande suivante:</p>
<pre><code> bin/console oro:install  --drop-database --user-name=admin --user-email=admin@example.com  \
   --application-url=http://dev-crm.local --user-firstname=John --user-lastname=Doe \
   --user-password=admin  --organization-name=ORO --env=prod --sample-data=n --timeout=3000
</code></pre>

<h3 id="install-test-automation-tools">Install Test Automation Tools</h3>
<p>Pour exÃ©cuter des scÃ©narios qui utilisent les fonctionnalitÃ©s de l'application Oro, exÃ©cutez le navigateur WebKit (Ã  l'aide de ChromeDriver). Pour installer ChromeDriver, exÃ©cutez les commandes suivantes:</p>
<pre><code> CHROME_DRIVER_VERSION=$(curl -sS chromedriver.storage.googleapis.com/LATEST_RELEASE)
 mkdir -p &quot;$HOME/chrome&quot; || true
 wget &quot;http://chromedriver.storage.googleapis.com/${CHROME_DRIVER_VERSION}/chromedriver_linux64.zip&quot; -O &quot;$HOME/chrome/chromedriver_linux64_${CHROME_DRIVER_VERSION}.zip&quot;
 unzip &quot;$HOME/chrome/chromedriver_linux64_${CHROME_DRIVER_VERSION}.zip&quot; -d &quot;$HOME/chrome&quot;
 sudo ln -s &quot;$HOME/chrome/chromedriver&quot; /usr/local/bin/chromedriver
</code></pre>

<h3 id="note">Note :</h3>
<p>Ces commandes crÃ©ent un sous-rÃ©pertoire pour Chrome dans votre rÃ©pertoire personnel, tÃ©lÃ©charge ChromeDriver dans le rÃ©pertoire crÃ©er,dÃ©compresse les fichiers et crÃ©Ã©r un lien symbolique.</p>
<p>Une fois l'exÃ©cution de la commande terminÃ©e, vous pouvez utiliser <code>chromedriver dans le terminal.</code></p>
<h3 id="execution-des-tests">ExÃ©cution des tests</h3>
<p>Conditions prÃ©alables</p>
<p>ExÃ©cutez ChromeDriver:</p>
<p><code>chromedriver --url-base=wd/hub --port=4444 &gt; /tmp/driver.log 2&gt;&amp;1</code></p>
<p>Pour exÃ©cuter ChromeDriver en arriÃ¨re-plan, ajoutez le symbole esperluette (&amp;) Ã  la fin de la ligne, comme dans les exemples suivants:</p>
<p><code>chromedriver --url-base=wd/hub --port=4444 &gt; /tmp/driver.log 2&gt;&amp;1 &amp;</code></p>
<p>Avant de commencer, il est fortement recommandÃ© de vous familiariser avec les arguments et les options de Behat. ExÃ©cutez bin / behat --help pour une description dÃ©taillÃ©e.</p>
<p>Lorsque l'application Oro est installÃ©e sans donnÃ©es de dÃ©monstration et est en cours d'exÃ©cution, et que ChromeDriver est en cours d'exÃ©cution, vous pouvez commencer Ã  exÃ©cuter les tests behat par fonctionnalitÃ© Ã  partir de la racine de l'application.</p>
<p>Vous pouvez utiliser l'une des commandes suivantes.</p>
<p>ExÃ©cutez le scÃ©nario de test des fonctionnalitÃ©s:</p>
<p><code>bin/behat vendor/oro/platform/src/Oro/Bundle/UserBundle/Tests/Behat/Features/login.feature -vvv</code></p>
<p>AperÃ§u de toutes les Ã©tapes de fonctionnalitÃ© disponibles:</p>
<p><code>bin/behat -dl -s OroUserBundle</code></p>
<p>Voir les Ã©tapes avec une description complÃ¨te et des exemples:</p>
<p><code>bin/behat -di -s OroUserBundle</code></p>
<p>Chaque bundle a sa suite de tests dÃ©diÃ©e qui peut Ãªtre exÃ©cutÃ©e sÃ©parÃ©ment:</p>
<p><code>bin/behat -s OroUserBundle</code></p>
<h2 id="architecture">Architecture</h2>
<h2 id="container">Container</h2>
<p>Behat est une application console Symfony avec son propre conteneur et ses propres services.
Un conteneur Behat peut Ãªtre configurÃ© via des extensions en utilisant behat.yml Ã  la racine du rÃ©pertoire d'application.</p>
<p>Le conteneur d'application peut Ãªtre utilisÃ© par le noyau injectÃ© dans votre contexte aprÃ¨s avoir implÃ©mentÃ© KernelAwareContext et utilisÃ© le trait KernelDictionary.</p>
<pre><code class="php"> use Behat\Symfony2Extension\Context\KernelAwareContext;
 use Behat\Symfony2Extension\Context\KernelDictionary;
 use Oro\Bundle\TestFrameworkBundle\Behat\Context\OroFeatureContext;

 class FeatureContext extends OroFeatureContext implements KernelAwareContext
 {
     use KernelDictionary;

     public function useContainer()
     {
         $doctrine = $this-&gt;getContainer()-&gt;get('doctrine');
     }
 }
</code></pre>

<p>De plus, vous pouvez injecter des services dans le contexte behat:</p>
<pre><code class="yaml"> oro_behat_extension:
   suites:
     OroCustomerAccountBridgeBundle:
       contexts:
         - OroImportExportBundle::ImportExportContext:
             - '@oro_entity.entity_alias_resolver'
             - '@oro_importexport.processor.registry'
</code></pre>

<h2 id="autoload-suites">Autoload Suites</h2>
<p>La classe <a href="https://github.com/oroinc/platform/blob/master/src/Oro/Bundle/TestFrameworkBundle/Behat/ServiceContainer/OroTestFrameworkExtension.php">OroTestFrameworkExtension</a>
est responsable de la gÃ©nÃ©ration des suites de test.</p>
<p>Lors de l'initialisation, l'extension crÃ©e une suite de tests avec un nom de bundle si un rÃ©pertoire Tests/Behat/Features
existe dans un bundle. Ainsi, si le bundle n'a pas de rÃ©pertoire Features - aucune suite de tests ne sera crÃ©Ã©e ce bundle.</p>
<p>Si vous avez besoin de certaines Ã©tapes de fonctionnalitÃ© spÃ©cifiques pour votre bundle, crÃ©ez la classe AcmeDemoBundle\Tests\Behat\Context\FeatureContext.
Ce contexte est ajoutÃ© Ã  la suite avec les contextes courants.La liste complÃ¨te du contexte commun est configurÃ©e dans le fichier de configuration behat sous la clÃ© <code>shared_contexts</code>.</p>
<p>Vous pouvez configurer manuellement la suite de tests pour un bundle dans la configuration de l'application behat:</p>
<pre><code class="yaml"> default: &amp;default
   suites:
     AcmeDemoBundle:
       type: symfony_bundle
       bundle: AcmeDemoBundle
       contexts:
         - Oro\Bundle\TestFrameworkBundle\Tests\Behat\Context\OroMainContext
         - OroDataGridBundle::GridContext
         - AcmeDemoBundle::FeatureContext
       paths:
         - 'vendor/Acme/DemoBundle/Tests/Behat/Features'
</code></pre>

<p>ou dans une configuration de bundle behat {BundleName}/Tests/Behat/behat.yml :</p>
<pre><code class="yaml"> oro_behat_extension:
   suites:
     AcmeDemoBundle:
       contexts:
         - Oro\Bundle\TestFrameworkBundle\Tests\Behat\Context\OroMainContext
         - OroDataGridBundle::GridContext
         - AcmeDemoBundle::FeatureContext
       paths:
         - '@AcmeDemoBundle/Tests/Behat/Features'
</code></pre>

<p>Les suites de test configurÃ©es manuellement ne sont pas chargÃ©es automatiquement par l'extension.</p>
<h3 id="feature-isolation">Feature Isolation</h3>
<p>Chaque fonctionnalitÃ© peut interagir avec l'application et effectuer des opÃ©rations CRUD. Par consÃ©quent, la base de donnÃ©es peut Ãªtre modifiÃ©e.
Pour Ã©viter les collisions de donnÃ©es, les fonctionnalitÃ©s sont isolÃ©es: la base de donnÃ©es et les rÃ©pertoires de cache sont vidÃ©s avant d'exÃ©cuter les tests de fonctionnalitÃ©s;
ils sont restaurÃ©s une fois l'exÃ©cution des tests de fonctionnalitÃ©s terminÃ©e.</p>
<p>Chaque isolateur doit implÃ©menter l'interface Oro\Bundle\TestFrameworkBund et le tag oro_behat.isolator avec de la prioritÃ©.</p>
<h4 id="desactiver-lisolation-des-fonctionnalites">DÃ©sactiver l'isolation des fonctionnalitÃ©s</h4>
<p>Vous pouvez dÃ©sactiver l'isolation des fonctionnalitÃ©s en ajoutant l'option <code>-skip-isolators=database,cache</code> Ã  la commande console behat.
Dans ce cas, la combinaison des tests de fonctionnalitÃ© peut s'exÃ©cuter beaucoup plus rapidement, mais la logique de test doit se soucier de la cohÃ©rence de la base de donnÃ©es et du cache.</p>
<h2 id="objet-de-page-page-object">Objet de page (Page Object)</h2>
<h3 id="elements">Elements</h3>
<p>Elements est une couche de service dans les tests behat. Ils enveloppent la logique mÃ©tier complexe. Prenez une minute pour lire la base des <a href="https://github.com/minkphp/Mink/blob/9ea1cebe3dc529ba3861d87c818f045362c40484/src/Element/NodeElement.php">NodeElement Mink</a></p>
<p>Il y a de nombreuses mÃ©thodes publiques; certains d'entre eux ne s'appliquent qu'Ã  certains Ã©lÃ©ments. Chaque test Bundle peut contenir un nombre particulier d'Ã©lÃ©ments.
Tous les Ã©lÃ©ments doivent Ãªtre dÃ©crits dans {BundleName} {BundleName}/Tests/Behat/behat.yml de la maniÃ¨re suivante:</p>
<pre><code class="yaml"> oro_behat_extension:
   elements:
     Login:
       selector: '#login-form'
       class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Form
       options:
         mapping:
           Username: '_username'
           Password: '_password'
</code></pre>

<p>ou :</p>
<ol>
<li><code>Login</code> est un nom d'Ã©lÃ©ment qui DOIT Ãªtre unique. L'Ã©lÃ©ment peut Ãªtre crÃ©Ã© dans un contexte par OroElementFactory par son nom:</li>
</ol>
<pre><code class="php">$this-&gt;elementFactory-&gt;createElement('Login');
</code></pre>

<ol>
<li>selector` dÃ©finit comment le driver Web doit trouver l'Ã©lÃ©ment sur la page. Par dÃ©faut, lorsque le type de sÃ©lecteur n'est pas spÃ©cifiÃ©, le sÃ©lecteur css est utilisÃ©.
Le sÃ©lecteur XPath est Ã©galement pris en charge et peut Ãªtre fourni avec la configuration suivante:</li>
</ol>
<pre><code class="yaml"> selector:
     type: xpath
     locator: //span[id='mySpan']/ancestor::form/
</code></pre>

<ol>
<li>
<p>Le namespace de l'Ã©lÃ©ment (doit Ãªtre Ã©tendu Ã  partir de Oro\Bundle\TestFrameworkBundle\Behat\Element\Element<code>).
Lorsqu'elle est omise, la classe</code>Oro\Bundle\TestFrameworkBundle\Behat\Element\Element` est utilisÃ©e par dÃ©faut.</p>
</li>
<li>
<p><code>options</code> est un tableau d'options supplÃ©mentaires stockÃ©es dans la propriÃ©tÃ© options de la classe Element.
Il est fortement recommandÃ© de fournir une classe avec des options de mappage pour les Ã©lÃ©ments de formulaire, car cela augmente la vitesse de test et garantit un mappage de champ plus prÃ©cis.</p>
</li>
</ol>
<h2 id="mappage-des-champs-de-formulaire">Mappage des champs de formulaire</h2>
<p>Par dÃ©faut, les tests utilisent le <a href="http://mink.behat.org/en/latest/guides/traversing-pages.html#named-selectors">sÃ©lecteur de champ nommÃ©</a>  pour mapper les champs du formulaire.
Le sÃ©lecteur de nom de champ a recherchÃ© le champ par son identifiant, son nom, son label ou son placeholder.
Vous Ãªtes libre d'utiliser n'importe quel sÃ©lecteur pour mapper des champs de formulaire ou encapsuler un Ã©lÃ©ment dans l'Ã©lÃ©ment behat particulier.</p>
<pre><code class="yaml"> oro_behat_extension:
   elements:
     Payment Method Config Type Field:
       class: Oro\Bundle\PaymentBundle\Tests\Behat\Element\PaymentMethodConfigType
     PaymentRuleForm:
       selector: &quot;form[id^='oro_payment_methods_configs_rule']&quot;
       class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Form
       options:
         mapping:
           Method:
             type: 'xpath'
             locator: '//div[@id[starts-with(.,&quot;uniform-oro_payment_methods_configs_rule_method&quot;)]]'
             element: Payment Method Config Type Field
</code></pre>

<p>Vous devez maintenant implÃ©menter la mÃ©thode <code>setValue</code> de l'Ã©lÃ©ment:</p>
<pre><code class="php">&lt;?php
 namespace Oro\Bundle\PaymentBundle\Tests\Behat\Element;
 use Oro\Bundle\TestFrameworkBundle\Behat\Element\Element;
 class PaymentMethodConfigType extends Element
 {
     /**
      * {@inheritdoc}
      */
     public function setValue($value)
     {
         $values = is_array($value) ? $value : [$value];
         foreach ($values as $item) {
             $parentField = $this-&gt;getParent()-&gt;getParent()-&gt;getParent()-&gt;getParent();
             $field = $parentField-&gt;find('css', 'select');
             self::assertNotNull($field, 'Select payment method field not found');
             $field-&gt;setValue($item);
             $parentField-&gt;clickLink('Add');
             $this-&gt;getDriver()-&gt;waitForAjax();
         }
     }
 }
</code></pre>

<p>Vous pouvez maintenant l'utiliser dans une Ã©tape standard:</p>
<pre><code class="yaml"> Feature: Payment Rules CRUD
   Scenario: Creating Payment Rule
     Given I login as administrator
     And I go to System/ Payment Rules
     And I click &quot;Create Payment Rule&quot;
     When I fill &quot;Payment Rule Form&quot; with:
       | Method | PayPal |
</code></pre>

<h3 id="mappages-de-formulaires-integres">Mappages de formulaires intÃ©grÃ©s :</h3>
<p>Parfois, un formulaire apparaÃ®t dans l'iframe. Behat peut passer Ã  l'iframe par son identifiant.
Pour remplir correctement le formulaire dans l'iframe, spÃ©cifiez l'id iframe dans les options du formulaire:</p>
<pre><code class="yaml">   oro_behat_extension:
     elements:
       MagentoContactUsForm:
         selector: 'div#page'
         class: Oro\Bundle\TestFrameworkBundle\Behat\Element\Form
         options:
           embedded-id: embedded-form
           mapping:
             First name: 'oro_magento_contactus_contact_request[firstName]'
             Last name: 'oro_magento_contactus_contact_request[lastName]'
</code></pre>

<h2 id="element-de-page">ELement de page</h2>
<p>L'Ã©lÃ©ment Page encapsule la page Web entiÃ¨re avec son URL et son chemin d'accÃ¨s Ã  la page. Chaque Ã©lÃ©ment Page doit Ã©tendre <code>Oro\Bundle\TestFrameworkBundle\Behat\Element\Page</code>.</p>
<p>Exemple de Configuration de Page :</p>
<pre><code class="yaml"> oro_behat_extension:
   pages:
     UserProfileView:
       class: Oro\Bundle\UserBundle\Tests\Behat\Page\UserProfileView
       route: 'oro_user_profile_view'
</code></pre>

<p>Exemple de classe de page:</p>
<pre><code class="php"> namespace Oro\Bundle\UserBundle\Tests\Behat\Page;

 use Oro\Bundle\TestFrameworkBundle\Behat\Element\Page;

 class UserProfileView extends Page
 {
     /**
      * {@inheritdoc}
      */
     public function open(array $parameters = [])
     {
         $userMenu = $this-&gt;elementFactory-&gt;createElement('UserMenu');
         $userMenu-&gt;find('css', '[data-toggle=&quot;dropdown&quot;]')-&gt;click();

         $userMenu-&gt;clickLink('My User');
     }
 }
</code></pre>

<p>Vous pouvez maintenant utiliser plusieurs Ã©tapes significatives:</p>
<pre><code class="yaml"> And I open User Profile View page
 And I should be on User Profile View page
</code></pre>

<h2 id="fixtures">Fixtures :</h2>
<h3 id="feature-fixtures">Feature Fixtures :</h3>
<p>Chaque fois que behat exÃ©cute une nouvelle fonctionnalitÃ©, l'Ã©tat de l'application est rÃ©initialisÃ© par dÃ©faut :
il n'y a qu'un seul utilisateur administrateur, une organisation, une unitÃ© commerciale et des rÃ´les par dÃ©faut dans la base de donnÃ©es.</p>
<p>Les tests de fonctionnalitÃ©s doivent s'appuyer sur les donnÃ©es disponibles dans l'application aprÃ¨s l'exÃ©cution de la commande oro: install. Dans la plupart des cas, cela ne suffit pas.</p>
<p>Ainsi, vous avez deux faÃ§ons d'obtenir plus de donnÃ©es dans le systÃ¨me: en utilisant des fixtures de base ou des fixtures alice.</p>
<h3 id="fixtures-basiques">Fixtures basiques</h3>
<p>Vous pouvez crÃ©er un nombre quelconque d'entitÃ©s dans les tests de fonctionnalitÃ©s. <code>FixtureContext</code> devine la classe d'entitÃ©, crÃ©e le nombre nÃ©cessaire d'objets
et utilise <a href="https://github.com/fzaninotto/faker">faker</a> pour remplir les champs requis lorsque leur valeur n'a pas Ã©tÃ© spÃ©cifiÃ©e explicitement.</p>
<p>Vous utilisez Ã  la fois les rÃ©fÃ©rences faker et les <a href="https://doc.oroinc.com/master/backend/automated-tests/behat/#behat-entity-references"> rÃ©fÃ©rences d'entitÃ©</a> dans les appareils en ligne.</p>
<pre><code> Given the following contacts:
   | First Name | Last Name | Email     |
   | Joan       | Anderson  | &lt;email()&gt; |
   | Craig      | Bishop    | &lt;email()&gt; |
   | Jean       | Castillo  | &lt;email()&gt; |
   | Willie     | Chavez    | &lt;email()&gt; |
   | Arthur     | Fisher    | &lt;email()&gt; |
   | Wanda      | Ford      | &lt;email()&gt; |
 And I have 5 Cases
 And there are 5 calls
 And there are two users with their own 7 Accounts
 And there are 3 users with their own 3 Tasks
 And there is user with its own Account
</code></pre>

<h3 id="fixtures-alice">Fixtures Alice</h3>
<p>Parfois, vous avez besoin de nombreuses entitÃ©s diffÃ©rentes avec des relations complexes. Dans de tels cas, vous pouvez utiliser des fixtures Alice.
 Alice est une bibliothÃ¨que qui vous permet de crÃ©er facilement des fixtures au format yml.</p>
<h4 id="note_1">NOTE :</h4>
<p>Voir la <a href="https://github.com/nelmio/alice/blob/2.x/README.md">documentation d'Alice</a> pour plus d'informations.</p>
<p>Les fixtures doivent Ãªtre situÃ©s dans le rÃ©pertoire {BundleName}/Tests/Behat/Features/Fixtures. Pour charger une fixture avant l'exÃ©cution des tests de fonctionnalitÃ©,
ajoutez une balise (annotation) qui est construite Ã  l'aide de la convention suivante <code>@fixture-BundleName:fixture_file_name.yml</code>, par exemple:</p>
<pre><code class="yaml"> @fixture-OroCRMBundle:mass_action.yml
 Feature: Mass Delete records
</code></pre>

<p>Il est Ã©galement possible de charger des fixtures pour tout autre bundle disponible pour l'application.</p>
<p>Par exemple:</p>
<pre><code class="yaml"> @fixture-OroUserBundle:user.yml
 @fixture-OroOrganizationBundle:BusinessUnit.yml
 Feature: Adding attributes for workflow transition
</code></pre>

<p>De plus, Alice vous permet <a href="https://github.com/nelmio/alice/blob/a060587f3c90edd92a65c6c0d163972f49bc4e21/doc/fixtures-refactoring.md#including-files">d'inclure des fichiers</a> via l'extension, vous pouvez donc importer des fichiers Ã  partir d'autres bundles:</p>
<pre><code class="yaml"> include:
     - '@OroCustomerBundle/Tests/Behat/Features/Fixtures/CustomerUserAmandaRCole.yml'
</code></pre>

<p><strong>Vous devez toujours inclure les fixtures d'autres bundles avec des entitÃ©s qui ont Ã©tÃ© dÃ©clarÃ©es dans ce bundle</strong></p>
<h2 id="references-dentites">RÃ©fÃ©rences d'entitÃ©s</h2>
<p>Vous pouvez utiliser des rÃ©fÃ©rences aux entitÃ©s dans les fixtures de base et <a href="https://github.com/nelmio/alice/blob/2.x/doc/relations-handling.md#handling-relations">alice</a>.</p>
<p><code>{Bundle}\Tests\Behat\ReferenceRepositoryInitializer</code>  est utilisÃ© pour crÃ©er des rÃ©fÃ©rences pour des objets qui existent dÃ©jÃ  dans la base de donnÃ©es.</p>
<ul>
<li>Il est interdit de modifier ou d'ajouter de nouvelles entitÃ©s dans le  Initializer.</li>
<li>Il doit implÃ©menter <code>ReferenceRepositoryInitializerInterface</code> et ne doit pas avoir de dÃ©pendances.</li>
<li>Pour afficher toutes les rÃ©fÃ©rences, utilisez la commande <code>bin/behat --available-references</code>.</li>
</ul>
<p>Les rÃ©fÃ©rences les plus utilisÃ©es sont:</p>
<ul>
<li><code>@admin</code>- Utilisateur Admin</li>
<li><code>@adminRole</code> - Administrator role</li>
<li><code>@organization</code> - Default organization</li>
<li><code>@business_unit</code> - Default business unit</li>
</ul>
<h2 id="health-checkers">Health Checkers</h2>
<p>Behat a une possibilitÃ© native d'invoquer des formateurs sans exÃ©cuter les tests et les hooks.</p>
<p>Vous pouvez essayer:</p>
<pre><code class="yaml"> bin/behat --dry-run
</code></pre>

<p>Cela peut Ãªtre utile au cas oÃ¹ vous n'Ãªtes pas sÃ»r d'avoir dÃ©clarÃ© tout le contexte nÃ©cessaire Ã  votre fonctionnalitÃ©.
OroBehatExtension amÃ©liore cette fonctionnalitÃ© et ajoute des fonctionnalitÃ©s supplÃ©mentaires.</p>
<h3 id="fixtureschecker">FixturesChecker</h3>
<p>Chaque fonctionnalitÃ© peut avoir des fixtues Alice, ajoutÃ©s par des tags. <strong>FixturesChecker</strong> vÃ©rifiera chaque fonctionnalitÃ© pour la capacitÃ© de charger des appareils, sans rÃ©ellement charger la fixture.</p>
<h3 id="ecrire-une-feature">Ecrire une feature</h3>
<p>Chaque bundle doit contenir ses propres tests behat pour les fonctionnalitÃ©s du rÃ©pertoire <code>wn behat tests for features in the</code>.
Chaque fonctionnalitÃ© est un fichier distinct avec l'extension <code>.feature</code> et une syntaxe spÃ©cifique.</p>
<h4 id="note_2">Note :</h4>
<p>Voir la doc de <a href="https://cucumber.io/docs/">Cucumber</a> pour plus d'infos.</p>
<p>Une fonctionnalitÃ© commence par ce qui suit:</p>
<ul>
<li>Le mot clÃ© <code>Feature</code>: et le nom de la fonctionnalitÃ© (ceux-ci doivent rester sur la mÃªme ligne),</li>
<li>Une description facultative (peut Ãªtre formatÃ©e sur plusieurs lignes). Une description significative est fortement recommandÃ©e.</li>
</ul>
<p>Vient ensuite le scÃ©nario de fonctionnalitÃ© - un exemple spÃ©cifique qui illustre une rÃ¨gle mÃ©tier et se compose d'Ã©tapes sÃ©quentielles.
En plus d'Ãªtre une spÃ©cification de test et une documentation de test, un scÃ©nario dÃ©finit les Ã©tapes de test et sert de spÃ©cification exÃ©cutable du systÃ¨me.</p>
<p>Normalement, une Ã©tape commence par <strong>Given</strong>, <strong>When</strong> ou <strong>Then</strong>.</p>
<p>S'il existe plusieurs Ã©tapes Given ou When les unes sous les autres, vous pouvez utiliser <strong>And</strong> ou <strong>But</strong> pour les organiser en groupes logiques.
Cucumber ne fait pas de diffÃ©rence entre les mots clÃ©s, mais le choix du bon est important pour la lisibilitÃ© du scÃ©nario dans son ensemble.</p>
<h4 id="note_3">Note :</h4>
<p>Jetez un Åil Ã  la feature login <code>login.feature</code> dans <a href="https://github.com/oroinc/platform/blob/50047c1d8abc5f811d0db759b501b8d27b0bff65/src/Oro/Bundle/UserBundle/Tests/Behat/Features/login.feature">OroUserBundle</a></p>
<pre><code>Feature: User login
   In order to login in application
   As an OroCRM admin
   I need to be able to authenticate

 Scenario: Success login
   Given I am on &quot;/user/login&quot;
   When I fill &quot;Login Form&quot; with:
       | Username | admin |
       | Password | admin |
   And I press &quot;Log in&quot;
   Then I should be on &quot;/&quot;

 Scenario Outline: Fail login
   Given I am on &quot;/user/login&quot;
   When I fill &quot;Login Form&quot; with:
       | Username | &lt;login&gt;    |
       | Password | &lt;password&gt; |
   And I press &quot;Log in&quot;
   Then I should be on &quot;/user/login&quot;
   And I should see &quot;Invalid user name or password.&quot;

   Examples:
   | login | password |
   | user  | pass     |
   | user2 | pass2    |
</code></pre>

<ol>
<li>La ligne <code>Feature: User login</code> dÃ©marre la fonctionnalitÃ© et lui donne un titre.</li>
<li>Behat n'analyse pas les trois lignes de texte suivantes: In order to... As an... I need to...
Ces lignes fournissent un contexte lisible par l'homme aux personnes qui rÃ©viseront ou modifieront cette fonctionnalitÃ©. Ils dÃ©crivent la valeur commerciale dÃ©rivÃ©e de l'inclusion de la fonctionnalitÃ© dans le logiciel.</li>
<li>La ligne <code>Scenario: Success login</code> dÃ©marre le scÃ©nario et fournit une description.</li>
<li>Les six lignes suivantes reprÃ©sentent les Ã©tapes du scÃ©nario. Chaque Ã©tape correspond Ã  une expression rÃ©guliÃ¨re dÃ©finie dans le contexte.</li>
<li>La ligne <code>Scenario Outline: Fail login</code> dÃ©marre le scÃ©nario suivant. Dans le plan du scÃ©nario, les placeholders sont utilisÃ©s Ã  la place des valeurs rÃ©elles
et les valeurs pour l'exÃ©cution du scÃ©nario sont fournies sous la forme d'un ensemble d'exemples sous le plan.
Le scÃ©nario vous aide Ã  exÃ©cuter ces Ã©tapes plusieurs fois, en parcourant les valeurs fournies dans la section <code>Exemples:</code> et en testant ainsi le mÃªme flux avec des entrÃ©es diffÃ©rentes.
Le plan du scÃ©nario est un modÃ¨le qui n'est jamais exÃ©cutÃ© seul.
Au lieu de cela, un scÃ©nario qui suit un plan s'exÃ©cute une fois pour chaque ligne dans la section <code>Exemples:</code> en dessous (Ã  l'exception de la premiÃ¨re ligne d'en-tÃªte qui est ignorÃ©e).
ConsidÃ©rez un espace rÃ©servÃ© comme une variable. Il est remplacÃ© par une valeur rÃ©elle depuis <code>Exemples:</code>, oÃ¹ le texte entre les crochets d'angle de l'espace rÃ©servÃ© (par exemple, <login>) correspond au texte de l'en-tÃªte de la colonne du tableau (par exemple, login).</li>
</ol>
<h2 id="depannage">DÃ©pannage</h2>
<h3 id="augmentez-les-performances-des-applications-ubuntu">Augmentez les performances des applications (Ubuntu)</h3>
<p>Behat a des isolateurs pour rendre les fonctionnalitÃ©s de behat indÃ©pendantes les unes des autres. L'un de ces isolateurs est la base de donnÃ©es.
Il crÃ©e un vidage de base de donnÃ©es avant le dÃ©but de l'exÃ©cution, puis le supprime et le restaure Ã  partir du vidage aprÃ¨s chaque fonctionnalitÃ©.
Cela peut prendre un certain temps (jusqu'Ã  2 minutes sur un SSD lent). Si vous exÃ©cutez souvent des tests behat, vous souhaitez diminuer ce temps.
Pour booster l'isolateur de base de donnÃ©es, vous pouvez monter le rÃ©pertoire de la base de donnÃ©es sur la RAM. Dans l'illustration ci-dessous, nous utilisons <a href="https://en.wikipedia.org/wiki/Tmpfs">tmpfs</a>:</p>
<p>CrÃ©ez un rÃ©pertoire tmpfs:</p>
<pre><code>sudo mkdir /var/tmpfs
sudo mount -t tmpfs -o size=4G tmpfs /var/tmpfs
</code></pre>

<p>Editez <code>/etc/mysql/mysql.conf.d/mysqld.cnf</code></p>
<p><code>datadir = /var/tmpfs/mysql</code></p>
<p>Ajoutez un nouveau stockage Ã  <code>/etc/fstab</code>:</p>
<p><code>tmpfs  /var/tmpfs  tmpfs  nodev,nosuid,noexec,noatime,size=4G  0 0</code></p>
<p>Copiez MySQL dans tmpfs:</p>
<pre><code>sudo service mysql stop
sudo cp -Rfp /var/lib/mysql /var/tmpfs
</code></pre>

<p>Nous devons dire Ã  AppArmor de laisser MySQL Ã©crire dans le nouveau rÃ©pertoire en crÃ©ant un alias entre le rÃ©pertoire par dÃ©faut et le nouvel emplacement.</p>
<p><code>echo "alias /var/lib/mysql/ -&gt; /var/tmpfs/mysql," | sudo tee -a /etc/apparmor.d/tunables/alias</code></p>
<p>Pour que les modifications prennent effet, redÃ©marrez AppArmor:</p>
<p><code>sudo systemctl restart apparmor</code></p>
<p>Vous pouvez maintenant redÃ©marrer MySQL:</p>
<p><code>sudo service mysql start</code></p>
<h4 id="facultatif-creer-un-script-de-demarrage">(facultatif) CrÃ©er un script de dÃ©marrage</h4>
<p>AprÃ¨s avoir redÃ©marrÃ© l'ordinateur, toutes les donnÃ©es et la structure de la base de donnÃ©es sont perdues. Par consÃ©quent, vous devez copier le rÃ©pertoire de donnÃ©es manuellement aprÃ¨s chaque redÃ©marrage.
Alternativement, vous pouvez crÃ©er un script de dÃ©marrage qui peut Ãªtre lancÃ© automatiquement en tant que service systemd.</p>
<p>Pour prÃ©parer la rÃ©cupÃ©ration automatique Ã  l'aide d'un script de dÃ©marrage:</p>
<ol>
<li>CrÃ©ez un mysql_copy_tmpfs.sh dans le rÃ©pertoire bin (par exemple /usr/local/bin):</li>
</ol>
<p>````shell script</p>
<h1 id="binbash">!/bin/bash</h1>
<p>cp -Rfp /var/lib/mysql /var/tmpfs</p>
<pre><code>
2. CrÃ©ez un fichier de configuration d'unitÃ© /etc/systemd/system/mysql_copy_tmpfs.service qui planifiera la prioritÃ© de l'exÃ©cution du service avant le dÃ©marrage de MySQL:
```
[Unit]
Description=Copy mysql to tmpfs
Before=mysql.service
After=mount.target

[Service]
User=mysql
Type=oneshot
ExecStart=/bash/script/path/mysql_copy_tmpfs.sh

[Install]
WantedBy=multi-user.target
```

3. Une fois les fichiers crÃ©Ã©s, activez le service configurÃ©:

`systemctl enable mysql_copy_tmpfs.service`

Il dÃ©marre automatiquement aprÃ¨s le redÃ©marrage de la machine.

**Erreur courante : Couldnât generate random unique value for OroBundleUserBundleEntityUser: username in 128 tries** 

hot fix: 

VÃ©rifiez votre fixtures. Supprimez le suffixe (unique) dans la propriÃ©tÃ© d'entitÃ© dans le luminaire d'entitÃ©, comme dans l'exemple suivant:

**Fixture incorrect** :

````yaml
Oro\Bundle\UserBundle\Entity\User:
    charlie:
      firstName: Marge
      lastName: Marge Simpson
      username (unique): marge228
</code></pre>

<p><strong>Correction</strong></p>
<pre><code class="yaml">Oro\Bundle\UserBundle\Entity\User:
    charlie:
      firstName: Marge
      lastName: Marge Simpson
      username: marge228
</code></pre>

<p><strong>Erreur racine</strong></p>
<p>Alice se souvient de toutes les valeurs de la propriÃ©tÃ© d'entitÃ© donnÃ©e et essaie de gÃ©nÃ©rer une valeur unique, mais cela provoque des problÃ¨mes lorsqu'il n'y a qu'une seule valeur pour la propriÃ©tÃ© d'entitÃ©.</p>
<p>Cette option peut toujours Ãªtre utilisÃ©e si elle est combinÃ©e avec la fausse valeur gÃ©nÃ©rÃ©e automatiquement, comme dans l'exemple suivant:</p>
<pre><code class="yaml">Oro\Bundle\UserBundle\Entity\User:
    charlie:
      firstName (unique): &lt;firstName()&gt;
      lastName: Marge Simpson
      username: marge228
</code></pre>

<h3 id="ajouter-des-extraits">Ajouter des extraits</h3>
<p>Le dÃ©veloppement des fonctionnalitÃ©s comprend les Ã©tapes de conception suivantes:</p>
<ul>
<li>CrÃ©ez un brouillon de la fonctionnalitÃ©: implÃ©mentez un scÃ©nario de haut niveau qui couvre l'histoire. Ã ce stade, vous devez avoir une comprÃ©hension claire des rÃ©sultats commerciaux obtenus par l'automatisation des tests de fonctionnalitÃ©s.</li>
<li>SpÃ©cifiez tous les scÃ©narios susceptibles de se produire lors de l'utilisation de la fonction. Les Ã©tapes exactes ne sont pas nÃ©cessaires.</li>
<li>Finalisez la vue d'ensemble de la mise en Åuvre et planifiez les diffÃ©rentes Ã©tapes.</li>
</ul>
<p>Certaines Ã©tapes peuvent dÃ©jÃ  Ãªtre entiÃ¨rement automatisÃ©es. IdÃ©alement, vous devez automatiser les Ã©tapes manquantes aprÃ¨s avoir prÃ©vu de les utiliser dans vos scÃ©narios de test de fonctionnalitÃ©s. Si la fonctionnalitÃ© de fonctionnalitÃ© est dÃ©jÃ  implÃ©mentÃ©e, il est nÃ©cessaire d'implÃ©menter les Ã©tapes behat impliquÃ©es dans le test de fonctionnalitÃ©.</p>
<p>Cependant, il est parfois impossible de le faire immÃ©diatement (en raison de l'implÃ©mentation incomplÃ¨te des fonctionnalitÃ©s, des problÃ¨mes de blocage ou des informations manquantes). Dans ce cas, vous pouvez temporairement vous moquer des Ã©tapes qui manquent d'implÃ©mentation.</p>
<p>Un moyen rapide de le faire consiste Ã  exÃ©cuter dry-run sur vos tests de fonctionnalitÃ©s. Dans la console, exÃ©cutez la commande suivante:</p>
<p><code>bin/behat path/to/your.feature --dry-run --append-snippets --snippets-type=regex</code></p>
<p>La fonctionnalitÃ© est exÃ©cutÃ©e en mode âdry-run , au stade final de l'exÃ©cution, vous Ãªtes invitÃ© Ã  ajouter des Ã©tapes de mise en Åuvre simulÃ©e non dÃ©finies Ã  l'un des contextes existants.</p>
<h3 id="comment-trouver-letape-necessaire">Comment trouver l'Ã©tape nÃ©cessaire</h3>
<p>Lorsque vous concevez des scÃ©narios d'automatisation de test pour la nouvelle fonctionnalitÃ©, vous pouvez avoir du mal Ã  trouver des Ã©tapes Ã  rÃ©utiliser parmi les centaines d'Ã©tapes dÃ©jÃ  automatisÃ©es.
Utilisez les conseils ci-dessous pour trouver l'Ã©tape nÃ©cessaire.</p>
<p>Suggestion automatique dans PhpStorm</p>
<p>Lors de la conception d'un scÃ©nario dans le fichier de fonctionnalitÃ©s, PhpStorm vous propose des conseils sur les Ã©tapes implÃ©mentÃ©es qui correspondent aux mots clÃ©s. Par exemple, lorsque vous tapez grid ou form, les Ã©tapes qui impliquent ces Ã©lÃ©ments apparaissent dans le bloc de suggestions.</p>
<p><img alt="Step Suggestion" src="../images/phpstorm_step_suggestion.png" /></p>
<p>Si PhpStorm ne vous propose aucun conseil lors de la frappe, veuillez vÃ©rifier les points suivants:</p>
<ol>
<li>Vous avez installÃ© les vendors</li>
<li>Vous avez installÃ© le plugin behat pour PhpStorm</li>
</ol>
<p>Trouvez le contexte nÃ©cessaire</p>
<p>Chaque classe Context doit implÃ©menter l'interface <code>Behat\Behat\Context\Context</code>. Obtenez la liste des contextes implÃ©mentÃ©s et trouvez celui nÃ©cessaire par nom.</p>
<p><img alt="Get Context by name" src="../images/context_implements_interface.png" /></p>
<p><img alt="Get Context by file" src="../images/find_context.png" /></p>
<p>Habituellement, le nom du contexte est explicite, par exemple, GridContext, FormContext, ACLContext, etc.</p>
<p>Utiliser Grep dans la console</p>
<p>Si, pour une raison quelconque, vous n'utilisez pas PhpStorm ou le plugin Behat, vous pouvez toujours trouver l'Ã©tape nÃ©cessaire en filtrant la sortie de la commande qui prÃ©visualise toutes les Ã©tapes de la fonctionnalitÃ© (utilisez Grep).</p>
<p>Tapez la commande suivante dans votre console:</p>
<p><code>bin/behat -dl -s AcmeDemoBundle | grep "flash message"</code></p>
<p><img alt="Grep console" src="../images/grep_flash_messages.png" /></p>
<p><code>bin/behat -dl -s AcmeDemoBundle | grep "grid"</code></p>
<p><img alt="Grep console 2" src="../images/grep_grid.png" /></p>
<p>PS :  Vous ne pouvez utiliser l'interface de ligne de commande behat qu'aprÃ¨s avoir installÃ© l'application.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../intro/" title="Intro" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Intro
              </div>
            </div>
          </a>
        
        
          <a href="../javascript/" title="Javascript" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Javascript
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.c51dfa35.min.js"></script>
      <script src="../../assets/javascripts/bundle.eaaa3931.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.58d22e8e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>